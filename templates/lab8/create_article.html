{% extends "base.html" %}

{% block lab %}Лабораторная работа 8{% endblock %}

{% block main %}
    <h1>Список статей</h1>

    {% if articles %}
        <ul>
            {% for article in articles %}
                <li>
                    <h3>{{ article.title }}</h3>

                    <!-- Текст статьи с прокруткой, если он длинный -->
                    <blockquote class="article-text">
                        {{ article.article_text }}
                    </blockquote>
                    
                    <form action="{{ url_for('lab8.delete', article_id=article.id) }}" method="post">
                        <button type="submit">Удалить</button>
                    </form>
                    
                    <form action="{{ url_for('lab8.edit', article_id=article.id) }}" method="post">
                        <button type="submit">Редактировать</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>У вас нет статей.</p>
    {% endif %}
{% endblock %}

{% block script %}
    <style>
        /* Стиль для блока с полным текстом статьи */
        .article-text {
            max-height: 300px;  /* Ограничение высоты блока */
            overflow-y: auto;   /* Вертикальная прокрутка */
            padding: 10px;
            background-color: #f0f0f0; /* Легкий фон */
            border-radius: 5px;
            border: 1px solid #ccc;  /* Граница блока */
        }
    </style>
{% endblock %}
